{"version":3,"file":"index.umd.min.js","mappings":"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","sources":["webpack://engine/webpack/universalModuleDefinition","webpack://engine/./src/index.js","webpack://engine/webpack/bootstrap","webpack://engine/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"engine\"] = factory();\n\telse\n\t\troot[\"engine\"] = factory();\n})(self, () => {\nreturn ","let ctx;\n\nfunction showError(error, fix, verbose) {\n  const errorBox = document.createElement(\"div\");\n\n  errorBox.style.backgroundColor = \"#F24C3D\";\n  errorBox.style.padding = \"3rem\";\n  errorBox.style.borderRadius = \"1rem\";\n  errorBox.style.position = \"absolute\";\n  errorBox.style.left = \"50%\";\n  errorBox.style.top = \"50%\";\n  errorBox.style.transform = \"translate(-50%, -50%)\";\n  errorBox.style.width = \"70vw\";\n  errorBox.style.height = \"70vh\";\n  errorBox.style.fontFamily = \"sans-serif\";\n\n  let errorMessage = `${verbose.name}: ${verbose.message}`;\n  if (verbose.stack) {\n    const lineNumberMatches = verbose.stack.match(/:(\\d+):\\d+/);\n    const lineNumber = lineNumberMatches && lineNumberMatches[1];\n    if (lineNumber) {\n      errorMessage += ` at line ${lineNumber}`;\n    }\n  }\n\n  errorBox.innerHTML = `\n    <h1 style=\"color: white;\">\n      !Simple Game Engine Error! <br><br>\n      ${error}\n    </h1>  \n    <p style=\"color: white;\">\n    Potential fix: <br>\n    ${fix}\n    </p>\n    <p style=\"color: white;\">\n    Verbose error: <br>\n    ${errorMessage}</p>\n  `;\n\n  document.body.appendChild(errorBox);\n}\n\n// Classes\nclass Game {\n  constructor({\n    s = { w: 500, h: 500 },\n    loop,\n    name = \"Simple Game Engine\",\n    bg = \"white\",\n  }) {\n    try {\n      this.c;\n      this.loop = loop;\n      this.name = name;\n      this.keys = {};\n      this.targetFps = 61;\n      this.s = s;\n      this.lastTime;\n      this.requiredElapsed;\n      this.bg = bg;\n      this.running = true;\n      this.internalSetup(s);\n      this.addEventListeners();\n    } catch (error) {\n      showError(\n        \"Game loop is not defined.\",\n        \"Create loop function. [function loop() {}] => Add loop function to game initialization. [loop: loop,]\",\n        error\n      );\n    }\n  }\n\n  internalSetup(s) {\n    try {\n      this.requiredElapsed = 1000 / this.targetFps;\n      const canvas = document.createElement(\"canvas\");\n\n      if (isNaN(s.w) || isNaN(s.h)) {\n        throw new Error(\"Parameter is not a number!\");\n      }\n\n      canvas.width = s.w;\n      canvas.height = s.h;\n      this.w = s.w;\n      this.h = s.h;\n\n      canvas.id = \"canvas\";\n\n      document.body.appendChild(canvas);\n      document.title = this.name;\n\n      if (document.querySelector(\"#engine-game-name\")) {\n        document.querySelector(\"#engine-game-name\").innerHTML = this.name;\n      }\n\n      this.c = document.querySelector(\"#canvas\");\n      ctx = canvas.getContext(\"2d\");\n    } catch (error) {\n      showError(\n        \"Internal canvas setup error.\",\n        \"Ensure game size are of type number and in object format. [s: { w: ~, h: ~ }]\",\n        error\n      );\n    }\n  }\n\n  begin() {\n    try {\n      const loop = (now) => {\n        ctx.fillStyle = this.bg;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n        if (!this.lastTime) {\n          this.lastTime = now;\n        }\n\n        let elapsed = now - this.lastTime;\n\n        if (elapsed > this.requiredElapsed) {\n          try {\n            this.loop();\n          } catch (error) {\n            showError(\n              \"External error in game loop.\",\n              \"Check code inside of defined loop function.\",\n              error\n            );\n          }\n\n          this.lastTime = now;\n        }\n\n        if (this.running) requestAnimationFrame(loop);\n      };\n\n      loop();\n    } catch (error) {\n      showError(\n        \"Interal loop setup error. \",\n        \"Create loop function. [function loop() {}] => Add loop function to game initialization. [loop: loop,]\",\n        error\n      );\n    }\n  }\n\n  end() {\n    this.running = false;\n  }\n\n  addEventListeners() {\n    addEventListener(\"keydown\", (e) => {\n      this.keys[e.key.toLowerCase()] = true;\n    });\n    addEventListener(\"keyup\", (e) => {\n      this.keys[e.key.toLowerCase()] = false;\n    });\n  }\n\n  key({ key }) {\n    return this.keys[key];\n  }\n\n  add({ name, value = null }) {\n    this[name] = value;\n  }\n\n  setFps({ fps }) {\n    this.requiredElapsed = 1000 / fps;\n  }\n}\n\nclass Object {\n  constructor({\n    pos = { x: 50, y: 50 },\n    s = { w: 50, h: 50 },\n    color = \"black\",\n    name = \"defaltName\",\n    img = undefined,\n  } = {}) {\n    this.pos = pos;\n    this.s = s;\n    this.color = color;\n    this.img = img;\n    this.name = name;\n    this.imgLoaded = false;\n\n    this.loadImg();\n  }\n\n  loadImg() {\n    try {\n      if (this.img !== undefined) {\n        this.imgSrc = this.img;\n        this.img = new Image();\n        this.img.onload = () => {\n          this.imgLoaded = true;\n        };\n        this.img.src = this.imgSrc;\n      }\n    } catch (error) {\n      errorBox(\n        \"Unable to load image for sprite \" + this.name + \".\",\n        \"Check that source path is correct.\",\n        error\n      );\n    }\n  }\n\n  add({ name, value = null }) {\n    this[name] = value;\n  }\n\n  move({ x = 0, y = 0 }) {\n    try {\n      this.pos.x += x;\n      this.pos.y += y;\n    } catch (error) {\n      errorBox(\n        \"Unable to run move function on sprite \" + this.name + \".\",\n        \"Ensure that parameter is of type number.\",\n        error\n      );\n    }\n  }\n\n  draw() {\n    try {\n      if (this.img === undefined) {\n        ctx.fillStyle = this.color;\n        if (this.s.r) {\n          ctx.beginPath();\n          ctx.arc(this.pos.x, this.pos.y, this.s.r, 0, 2 * Math.PI);\n          ctx.fill();\n        } else {\n          ctx.fillRect(this.pos.x, this.pos.y, this.s.w, this.s.h);\n        }\n      } else {\n        if (this.imgLoaded) {\n          if (this.s.r) {\n            ctx.drawImage(\n              this.img,\n              this.pos.x - this.s.r,\n              this.pos.y - this.s.r,\n              this.s.r * 2,\n              this.s.r * 2\n            );\n          } else {\n            ctx.drawImage(this.img, this.pos.x, this.pos.y, this.s.w, this.s.h);\n          }\n        }\n      }\n    } catch (error) {\n      errorBox(\n        \"Unable to load image for sprite \" + this.name + \".\",\n        \"Check that source path is correct.\",\n        error\n      );\n    }\n  }\n\n  update() {\n    this.draw();\n  }\n}\n\nclass Ui {\n  constructor() {\n    this.bars = [];\n    this.barsIndex = {};\n    this.numbers = [];\n    this.numbersIndex = {};\n  }\n\n  bar({\n    name,\n    pos = { x: 0, y: 0 },\n    s = { w: 200, h: 20 },\n    color = \"black\",\n    min = 0,\n    max = 100,\n    from = 50,\n  } = {}) {\n    this.bars.push({\n      name: name,\n      pos: pos,\n      s: s,\n      color: color,\n      min: min,\n      max: max,\n      from: from,\n    });\n    this.barsIndex[name] = this.bars.length - 1;\n  }\n\n  number({\n    pos = { x: 0, y: 0 },\n    s = 48,\n    color = \"black\",\n    from = 50,\n    min = 0,\n    max = 1000,\n    name,\n  } = {}) {\n    this.numbers.push({\n      name: name,\n      pos: pos,\n      s: s,\n      min: min,\n      max: max,\n      color: color,\n      from: from,\n    });\n    this.numbersIndex[name] = this.numbers.length - 1;\n  }\n\n  updateNumber({ name, from }) {\n    this.numbers[this.numbersIndex[name]].from = from;\n  }\n\n  updateBar({ name, from }) {\n    this.bars[this.barsIndex[name]].from = from;\n  }\n\n  draw() {\n    this.bars.forEach((bar) => {\n      let range = bar.max - bar.min;\n      let percent = bar.from / range;\n\n      if (percent < 0) {\n        percent = 0;\n      } else if (percent > 100) {\n        percent = 100;\n      }\n\n      ctx.fillStyle = bar.color;\n      ctx.fillRect(bar.pos.x, bar.pos.y, bar.s.w * percent, bar.s.h);\n\n      ctx.strokeStyle = \"black\";\n      ctx.lineWidth = 3;\n      ctx.strokeRect(bar.pos.x, bar.pos.y, bar.s.w, bar.s.h);\n    });\n\n    this.numbers.forEach((number) => {\n      let numberDrawn = number.from;\n\n      if (number.from < number.min) {\n        numberDrawn = number.min;\n      } else if (number.from > number.max) {\n        numberDrawn = number.max;\n      }\n\n      ctx.fillStyle = number.color;\n      ctx.font = `${number.s}px serif`;\n      ctx.fillText(numberDrawn, number.pos.x, number.pos.y);\n    });\n  }\n\n  update() {\n    this.draw();\n  }\n}\n\nclass ParticleSystem {\n  constructor({\n    pos = { x: 0, y: 0 },\n    s = { w: 10, h: 10 },\n    pieces = 10,\n    speed = 5,\n    color = \"black\",\n    friction = 0.95,\n    dur = 3000,\n    img = undefined,\n  } = {}) {\n    this.pos = pos;\n    this.numberOfPieces = pieces;\n    this.pieces = [];\n    this.speed = speed;\n    this.s = s;\n    this.color = color;\n    this.friction = friction;\n    this.dur = dur;\n    this.img = img;\n    this.imgLoaded = false;\n\n    this.loadImg();\n    this.init();\n  }\n\n  loadImg() {\n    try {\n      if (this.img !== undefined) {\n        this.imgSrc = this.img;\n        this.img = new Image();\n        this.img.onload = () => {\n          this.imgLoaded = true;\n        };\n        this.img.src = this.imgSrc;\n      }\n    } catch (error) {\n      errorBox(\n        \"Unable to load image for particle.\",\n        \"Check that source path is correct.\",\n        error\n      );\n    }\n  }\n\n  init() {\n    try {\n      for (let i = 0; i < this.numberOfPieces; i++) {\n        this.pieces.push({\n          pos: {\n            x: this.pos.x,\n            y: this.pos.y,\n          },\n          v: {\n            x: Math.random() * this.speed - this.speed / 2,\n            y: Math.random() * this.speed - this.speed / 2,\n          },\n          s: this.s,\n        });\n      }\n\n      setTimeout(() => {\n        this.pieces = [];\n      }, this.dur);\n    } catch (error) {\n      showError(\n        \"Internal particle initialization error.\",\n        \"Ensure parameters are of propper type.\",\n        error\n      );\n    }\n  }\n\n  move() {\n    try {\n      if (isNaN(this.friction)) throw new Error();\n\n      this.pieces.forEach((piece) => {\n        piece.pos.x += piece.v.x;\n        piece.pos.y += piece.v.y;\n\n        piece.v.x *= this.friction;\n        piece.v.y *= this.friction;\n\n        if (Math.abs(piece.v.x) < 0.001) piece.v.x = 0;\n        if (Math.abs(piece.v.y) < 0.001) piece.v.y = 0;\n      });\n    } catch (error) {\n      showError(\n        \"Internal particle move error.\",\n        \"Ensure friction is of type number.\",\n        error\n      );\n    }\n  }\n\n  draw() {\n    try {\n      if (this.img === undefined) {\n        this.pieces.forEach((piece) => {\n          ctx.fillStyle = this.color;\n          ctx.fillRect(piece.pos.x, piece.pos.y, piece.s.w, piece.s.h);\n        });\n      } else {\n        if (this.imgLoaded) {\n          this.pieces.forEach((piece) => {\n            ctx.drawImage(\n              this.img,\n              piece.pos.x,\n              piece.pos.y,\n              piece.s.w,\n              piece.s.h\n            );\n          });\n        }\n      }\n    } catch (error) {\n      showError(\n        \"Internal particle draw error.\",\n        \"Ensure parameters are of propper type.\",\n        error\n      );\n    }\n  }\n\n  update() {\n    this.move();\n    this.draw();\n  }\n}\n\nclass DomSelector {\n  constructor() {}\n\n  get({ sel }) {\n    return document.querySelector(sel);\n  }\n\n  getAll({ sel }) {\n    return document.querySelectorAll(sel);\n  }\n}\n\nclass DomManipulator {\n  constructor() {}\n\n  on({ item, on, run }) {\n    item.addEventListener(on, (e) => {\n      run();\n    });\n  }\n\n  set({ item, prop, value }) {\n    item.style[prop] = value;\n  }\n}\n\nclass EngineMath {\n  constructor() {}\n\n  random({ min, max, type = \"int\" }) {\n    if (type === \"int\") {\n      return Math.floor(Math.random() * (max - min) + min);\n    } else if (type === \"float\") {\n      return Math.random() * (max - min) + min;\n    }\n  }\n}\n\n// Functions\nfunction route({ object1, object2, dir = \"to\", speed, type = \"axis\" }) {\n  try {\n    if (dir === \"to\") {\n      if (type === \"axis\") {\n        if (object1.pos.x < object2.pos.x) {\n          object1.pos.x += speed;\n        } else if (object1.pos.x > object2.pos.x) {\n          object1.pos.x -= speed;\n        }\n\n        if (object1.pos.y < object2.pos.y) {\n          object1.pos.y += speed;\n        } else if (object1.pos.y > object2.pos.y) {\n          object1.pos.y -= speed;\n        }\n      } else if (type === \"trig\") {\n        let angle = Math.atan2(\n          object2.pos.y - object1.pos.y,\n          object2.pos.x - object1.pos.x\n        );\n\n        object1.pos.x += Math.cos(angle) * speed;\n        object1.pos.y += Math.sin(angle) * speed;\n      }\n    } else if (dir === \"away\") {\n      if (type === \"axis\") {\n        if (object1.pos.x < object2.pos.x) {\n          object1.pos.x -= speed;\n        } else if (object1.pos.x > object2.pos.x) {\n          object1.pos.x += speed;\n        }\n\n        if (object1.pos.y < object2.pos.y) {\n          object1.pos.y -= speed;\n        } else if (object1.pos.y > object2.pos.y) {\n          object1.pos.y += speed;\n        }\n      } else if (type === \"trig\") {\n        let angle = Math.atan2(\n          object2.pos.y - object1.pos.y,\n          object2.pos.x - object1.pos.x\n        );\n\n        object1.pos.x -= Math.cos(angle) * speed;\n        object1.pos.y -= Math.sin(angle) * speed;\n      }\n    }\n  } catch (error) {\n    showError(\n      `Error routing ${object1.name} ${dir} ${object2.name}.`,\n      \"Ensure speed parameter is passes. [{ speed: ~ }] Ensure objects have pos and s. [pos: { x: ~, y: ~ }, s: { -type=rect-(w: ~, h: ~) -type=circle-(r: ~) }]\",\n      error\n    );\n  }\n}\n\nfunction collide({ object1, object2, type = \"rect\" }) {\n  try {\n    if (type === \"rect\") {\n      return (\n        object1.pos.x + object1.s.w >= object2.pos.x &&\n        object1.pos.x <= object2.pos.x + object2.s.w &&\n        object1.pos.y + object1.s.h >= object2.pos.y &&\n        object1.pos.y <= object2.pos.y + object2.s.h\n      );\n    } else if (type === \"circle\") {\n      return (\n        Math.abs(object1.pos.x - object2.pos.x) <= object1.s.r + object2.s.r &&\n        Math.abs(object1.pos.y - object2.pos.y) <= object1.s.r + object2.s.r\n      );\n    }\n  } catch (error) {\n    showError(\n      `Error colliding ${object1.name} and ${object2.name}.`,\n      \"Ensure objects have pos and s. [pos: { x: ~, y: ~ }, s: { -type=rect-(w: ~, h: ~) -type=circle-(r: ~) }]\",\n      error\n    );\n  }\n}\n\nmodule.exports = {\n  Game: Game,\n  Object: Object,\n  ParticleSystem: ParticleSystem,\n  Ui: Ui,\n  DomManipulator: DomManipulator,\n  DomSelector: DomSelector,\n  EngineMath: EngineMath,\n  route: route,\n  collide: collide,\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(579);\n"],"names":["root","factory","exports","module","define","amd","self","ctx","showError","error","fix","verbose","errorBox","document","createElement","style","backgroundColor","padding","borderRadius","position","left","top","transform","width","height","fontFamily","errorMessage","name","message","stack","lineNumberMatches","match","lineNumber","innerHTML","body","appendChild","Game","constructor","s","w","h","loop","bg","this","c","keys","targetFps","lastTime","requiredElapsed","running","internalSetup","addEventListeners","canvas","isNaN","Error","id","title","querySelector","getContext","begin","now","fillStyle","fillRect","requestAnimationFrame","end","addEventListener","e","key","toLowerCase","add","value","setFps","fps","Object","pos","x","y","color","img","imgLoaded","loadImg","undefined","imgSrc","Image","onload","src","move","draw","r","beginPath","arc","Math","PI","fill","drawImage","update","ParticleSystem","pieces","speed","friction","dur","numberOfPieces","init","i","push","v","random","setTimeout","forEach","piece","abs","Ui","bars","barsIndex","numbers","numbersIndex","bar","min","max","from","length","number","updateNumber","updateBar","range","percent","strokeStyle","lineWidth","strokeRect","numberDrawn","font","fillText","DomManipulator","on","item","run","set","prop","DomSelector","get","sel","getAll","querySelectorAll","EngineMath","type","floor","route","object1","object2","dir","angle","atan2","cos","sin","collide","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}